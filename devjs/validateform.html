<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./validate.css">
    <title>Document</title>
</head>

<body>
    <div class="register-form">
        <h2>Register Form</h2>
        <div class="input-row">
            <input type="text" placeholder="Họ tên" id="username" autocomplete="off" />
            <small>Error message</small>
        </div>
        <div class="input-row">
            <input type="password" placeholder="Mật khẩu" id="password1" autocomplete="off" />
            <small>Error message</small>
        </div>
        <div class="input-row">
            <input type="password" placeholder="Nhập lại mật khẩu" id="password2" autocomplete="off" />
            <small>Error message</small>
        </div>
        <div class="input-row">
            <input type="text" placeholder="Số điện thoại" id="phone" autocomplete="off" />
            <small>Error message</small>
        </div>
        <div class="input-row">
            <input type="Email" placeholder="Email" id="email" autocomplete="off" />
            <small>Error message</small>
        </div>
        <div class="input-row">
            <button class="btn" id="btn-register">
                ĐĂNG KÝ
            </button>
        </div>
    </div>

    <script>
        const username = document.getElementById("username");
        const password1 = document.getElementById("password1");
        const password2 = document.getElementById("password2");
        const phone = document.getElementById("phone");
        const email = document.getElementById("email");
        const btn = document.getElementById("btn-register");
        const inputEles = document.querySelectorAll('.input-row')
        btn.addEventListener('click',function(){
            if(username.value == ""){
                alert("tên không được để trống !");
            }
            else if(username.value.length < 8){
                alert("tên tối thiểu 8 ký tự")
            }
            else if(password1.value == ""){
                alert("mật khẩu không được để trống !");
            }
            else if(password1.value.length < 8){
                alert("Mật khẩu tối thiểu 8 ký tự")
            }
            else if(password2.value == ""){
                alert("Nhập lại không được để trống !");
            }
            else if(password2.value != password1.value){
                alert("Nhập lại mật khẩu không chính xác")
            }
            else if(phone.value == ""){
                alert("Phone không được để trống !");
            }
            else if(checkphone(phone.value) == false){
                alert("số điện thoại không đúng định dạng !")
            }
            else if(email.value == ""){
                alert("Email không được để trống !");
            }else if(checkmail(email.value) == false){
                alert("email không đúng định dạng !")
            }
            else{
                alert("Đăng ký thành công")
                username.value = "";  // cho về rỗng khi đăng ký thành công
                password1.value = "" ; // cho về rỗng khi đăng ký thành công
                password2.value = "" ; // cho về rỗng khi đăng ký thành công
                phone.value ="" ;  // cho về rỗng khi đăng ký thành công
                email.value = "" ; // cho về rỗng khi đăng ký thành công
            }
        });
        
        // function checkvalidate(){
        //     let isCheck = true;
            
        //     if (username.value == ''){
        //         setError(username.value,'Tên không được để trống');
        //         isCheck = false;
        //     }
        //     else if (username.value.length <8){
        //         setError(username.value,'Tên phải có 8 ký tự trở lên')
        //     }
        // }
        // định dạng số điện thoại mã vùng +84
        function checkphone(number){
            let regx = /(84|0[3|5|7|8|9])+([0-9]{8})\b/;
            return regx.test(number)
        }
        function checkmail(mail){
            let regx =/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return regx.test(mail)
        }

        // function setSuccess(element){
        //     element.parentNode.classList.add('success')
        // }
        // function setError(element,message){
        //     element.parentNode.classList.add('error');
        //     element.parentNode.querySelectorAll('small').innerText =message;
        // }
    </script>
</body>


</html>